!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){e(6),e(8);var r=e(9),i=e(1),o=e(2);o.animate=e(3),o.resize=e(4),o.tween=e(5),"undefined"!=typeof window&&(window.Supermove=o,window.Kefir=r,window.m=i),t.exports=o},function(t,n,e){var r;(function(t){var i=function o(t,n){function e(t){T=t.document,L=t.location,q=t.cancelAnimationFrame||t.clearTimeout,N=t.requestAnimationFrame||t.setTimeout}function r(){var t,n=[].slice.call(arguments),e=!(null==n[1]||D.call(n[1])!==O||"tag"in n[1]||"view"in n[1]||"subtree"in n[1]),r=e?n[1]:{},i="class"in r?"class":"className",o={tag:"div",attrs:{}},s=[];if(D.call(n[0])!=V)throw new Error("selector in m(selector, attrs, children) should be a string");for(;t=P.exec(n[0]);)if(""===t[1]&&t[2])o.tag=t[2];else if("#"===t[1])o.attrs.id=t[2];else if("."===t[1])s.push(t[2]);else if("["===t[3][0]){var a=j.exec(t[3]);o.attrs[a[1]]=a[3]||(a[2]?"":!0)}s.length>0&&(o.attrs[i]=s.join(" "));var u=n.slice(e?2:1);o.children=1===u.length&&D.call(u[0])===$?u[0]:u;for(var l in r)if(l===i){var c=o.attrs[l];o.attrs[l]=(c&&r[l]?c+" ":c||"")+r[l]}else o.attrs[l]=r[l];return o}function i(t,e,o,l,h,f,d,_,p,m,v){try{(null==h||null==h.toString())&&(h="")}catch(y){h=""}if("retain"===h.subtree)return f;var g=D.call(f),b=D.call(h);if(null==f||g!==b){if(null!=f)if(o&&o.nodes){var w=_-l,A=w+(b===$?h:f.nodes).length;u(o.nodes.slice(w,A),o.slice(w,A))}else f.nodes&&u(f.nodes,f);f=new h.constructor,f.tag&&(f={}),f.nodes=[]}if(b===$){for(var E=0,x=h.length;x>E;E++)D.call(h[E])===$&&(h=h.concat.apply([],h),E--,x=h.length);for(var M=[],S=f.length===h.length,C=0,k=1,L=2,N=3,q={},P=!1,E=0;E<f.length;E++)f[E]&&f[E].attrs&&null!=f[E].attrs.key&&(P=!0,q[f[E].attrs.key]={action:k,index:E});for(var j=0,E=0,x=h.length;x>E;E++)if(h[E]&&h[E].attrs&&null!=h[E].attrs.key){for(var H=0,x=h.length;x>H;H++)h[H]&&h[H].attrs&&null==h[H].attrs.key&&(h[H].attrs.key="__mithril__"+j++);break}if(P){var B=!1;if(h.length!=f.length)B=!0;else for(var R,z,E=0;R=f[E],z=h[E];E++)if(R.attrs&&z.attrs&&R.attrs.key!=z.attrs.key){B=!0;break}if(B){for(var E=0,x=h.length;x>E;E++)if(h[E]&&h[E].attrs&&null!=h[E].attrs.key){var U=h[E].attrs.key;q[U]=q[U]?{action:N,index:E,from:q[U].index,element:f.nodes[q[U].index]||T.createElement("div")}:{action:L,index:E}}var K=[];for(var W in q)K.push(q[W]);var Q=K.sort(s),G=new Array(f.length);G.nodes=f.nodes.slice();for(var J,E=0;J=Q[E];E++){if(J.action===k&&(u(f[J.index].nodes,f[J.index]),G.splice(J.index,1)),J.action===L){var Y=T.createElement("div");Y.key=h[J.index].attrs.key,t.insertBefore(Y,t.childNodes[J.index]||null),G.splice(J.index,0,{attrs:{key:h[J.index].attrs.key},nodes:[Y]}),G.nodes[J.index]=Y}J.action===N&&(t.childNodes[J.index]!==J.element&&null!==J.element&&t.insertBefore(J.element,t.childNodes[J.index]||null),G[J.index]=f[J.from],G.nodes[J.index]=J.element)}f=G}}for(var E=0,Z=0,x=h.length;x>E;E++){var tn=i(t,e,f,_,h[E],f[Z],d,_+C||C,p,m,v);tn!==n&&(tn.nodes.intact||(S=!1),C+=tn.$trusted?(tn.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:D.call(tn)===$?tn.length:1,f[Z++]=tn)}if(!S){for(var E=0,x=h.length;x>E;E++)null!=f[E]&&M.push.apply(M,f[E].nodes);for(var nn,E=0;nn=f.nodes[E];E++)null!=nn.parentNode&&M.indexOf(nn)<0&&u([nn],[f[E]]);h.length<f.length&&(f.length=h.length),f.nodes=M}}else if(null!=h&&b===O){for(var rn=[],on=[];h.view;){var sn=h.controller.$original||h.controller,an=f.controllerConstructors?f.controllerConstructors.indexOf(sn):-1,un=an>-1?f.controllers[an]:new(h.controller||function(){}),U=h&&h.attrs&&h.attrs.key;h=0==en?h.view(un):{tag:"placeholder"},U&&(h.attrs||(h.attrs={}),h.attrs.key=U),un.onunload&&X.push({controller:un,handler:un.onunload}),rn.push(sn),on.push(un)}if(!h.tag&&on.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");h.attrs||(h.attrs={}),f.attrs||(f.attrs={});var ln=Object.keys(h.attrs),cn=ln.length>("key"in h.attrs?1:0);if((h.tag!=f.tag||ln.join()!=Object.keys(f.attrs).join()||h.attrs.id!=f.attrs.id||h.attrs.key!=f.attrs.key||"all"==r.redraw.strategy()&&f.configContext&&f.configContext.retain!==!0||"diff"==r.redraw.strategy()&&f.configContext&&f.configContext.retain===!1)&&(f.nodes.length&&u(f.nodes),f.configContext&&typeof f.configContext.onunload===I&&f.configContext.onunload(),f.controllers))for(var un,E=0;un=f.controllers[E];E++)typeof un.onunload===I&&un.onunload({preventDefault:function(){}});if(D.call(h.tag)!=V)return;var nn,hn=0===f.nodes.length;if(h.attrs.xmlns?m=h.attrs.xmlns:"svg"===h.tag?m="http://www.w3.org/2000/svg":"math"===h.tag&&(m="http://www.w3.org/1998/Math/MathML"),hn){if(nn=h.attrs.is?m===n?T.createElement(h.tag,h.attrs.is):T.createElementNS(m,h.tag,h.attrs.is):m===n?T.createElement(h.tag):T.createElementNS(m,h.tag),f={tag:h.tag,attrs:cn?a(nn,h.tag,h.attrs,{},m):h.attrs,children:null!=h.children&&h.children.length>0?i(nn,h.tag,n,n,h.children,f.children,!0,0,h.attrs.contenteditable?nn:p,m,v):h.children,nodes:[nn]},on.length){f.controllerConstructors=rn,f.controllers=on;for(var un,E=0;un=on[E];E++)if(un.onunload&&un.onunload.$old&&(un.onunload=un.onunload.$old),en&&un.onunload){var fn=un.onunload;un.onunload=function(){},un.onunload.$old=fn}}f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===h.tag&&h.attrs.value&&a(nn,h.tag,{value:h.attrs.value},{},m),t.insertBefore(nn,t.childNodes[_]||null)}else nn=f.nodes[0],cn&&a(nn,h.tag,h.attrs,f.attrs,m),f.children=i(nn,h.tag,n,n,h.children,f.children,!1,0,h.attrs.contenteditable?nn:p,m,v),f.nodes.intact=!0,on.length&&(f.controllerConstructors=rn,f.controllers=on),d===!0&&null!=nn&&t.insertBefore(nn,t.childNodes[_]||null);if(typeof h.attrs.config===I){var dn=f.configContext=f.configContext||{retain:"diff"==r.redraw.strategy()||n},_n=function(t,n){return function(){return t.attrs.config.apply(t,n)}};v.push(_n(h,[nn,!hn,dn,f]))}}else if(typeof h!=I){var M;0===f.nodes.length?(h.$trusted?M=c(t,_,h):(M=[T.createTextNode(h)],t.nodeName.match(F)||t.insertBefore(M[0],t.childNodes[_]||null)),f="string number boolean".indexOf(typeof h)>-1?new h.constructor(h):h,f.nodes=M):f.valueOf()!==h.valueOf()||d===!0?(M=f.nodes,p&&p===T.activeElement||(h.$trusted?(u(M,f),M=c(t,_,h)):"textarea"===e?t.value=h:p?p.innerHTML=h:((1===M[0].nodeType||M.length>1)&&(u(f.nodes,f),M=[T.createTextNode(h)]),t.insertBefore(M[0],t.childNodes[_]||null),M[0].nodeValue=h)),f=new h.constructor(h),f.nodes=M):f.nodes.intact=!0}return f}function s(t,n){return t.action-n.action||t.index-n.index}function a(t,n,e,r,i){for(var o in e){var s=e[o],a=r[o];if(o in r&&a===s)"value"===o&&"input"===n&&t.value!=s&&(t.value=s);else{r[o]=s;try{if("config"===o||"key"==o)continue;if(typeof s===I&&0===o.indexOf("on"))t[o]=h(s,t);else if("style"===o&&null!=s&&D.call(s)===O){for(var u in s)(null==a||a[u]!==s[u])&&(t.style[u]=s[u]);for(var u in a)u in s||(t.style[u]="")}else null!=i?"href"===o?t.setAttributeNS("http://www.w3.org/1999/xlink","href",s):"className"===o?t.setAttribute("class",s):t.setAttribute(o,s):o in t&&"list"!==o&&"style"!==o&&"form"!==o&&"type"!==o&&"width"!==o&&"height"!==o?("input"!==n||t[o]!==s)&&(t[o]=s):t.setAttribute(o,s)}catch(l){if(l.message.indexOf("Invalid argument")<0)throw l}}}return r}function u(t,n){for(var e=t.length-1;e>-1;e--)if(t[e]&&t[e].parentNode){try{t[e].parentNode.removeChild(t[e])}catch(r){}n=[].concat(n),n[e]&&l(n[e])}0!=t.length&&(t.length=0)}function l(t){if(t.configContext&&typeof t.configContext.onunload===I&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers)for(var n,e=0;n=t.controllers[e];e++)typeof n.onunload===I&&n.onunload({preventDefault:function(){}});if(t.children)if(D.call(t.children)===$)for(var r,e=0;r=t.children[e];e++)l(r);else t.children.tag&&l(t.children)}function c(t,n,e){var r=t.childNodes[n];if(r){var i=1!=r.nodeType,o=T.createElement("span");i?(t.insertBefore(o,r||null),o.insertAdjacentHTML("beforebegin",e),t.removeChild(o)):r.insertAdjacentHTML("beforebegin",e)}else t.insertAdjacentHTML("beforeend",e);for(var s=[];t.childNodes[n]!==r;)s.push(t.childNodes[n]),n++;return s}function h(t,n){return function(e){e=e||event,r.redraw.strategy("diff"),r.startComputation();try{return t.call(n,e)}finally{rn()}}}function f(t){var n=R.indexOf(t);return 0>n?R.push(t)-1:n}function d(t){var n=function(){return arguments.length&&(t=arguments[0]),t};return n.toJSON=function(){return t},n}function _(t,n){var e=function(){return(t.controller||function(){}).apply(this,n)||this},r=function(e){return arguments.length>1&&(n=n.concat([].slice.call(arguments,1))),t.view.apply(t,n?[e].concat(n):[e])};e.$original=t.controller;var i={controller:e,view:r};return n[0]&&null!=n[0].key&&(i.attrs={key:n[0].key}),i}function p(){for(var t,n=0;t=K[n];n++)if(Q[n]){var e=W[n].controller&&W[n].controller.$$args?[Q[n]].concat(W[n].controller.$$args):[Q[n]];r.render(t,W[n].view?W[n].view(Q[n],e):nn())}Y&&(Y(),Y=null),G=null,J=new Date,r.redraw.strategy("diff")}function m(t){return t.slice(an[r.route.mode].length)}function v(t,n,e){on={};var i=e.indexOf("?");-1!==i&&(on=w(e.substr(i+1,e.length)),e=e.substr(0,i));var o=Object.keys(n),s=o.indexOf(e);if(-1!==s)return r.module(t,n[o[s]]),!0;for(var a in n){if(a===e)return r.module(t,n[a]),!0;var u=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(e))return e.replace(u,function(){for(var e=a.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2),o=0,s=e.length;s>o;o++)on[e[o].replace(/:|\./g,"")]=decodeURIComponent(i[o]);r.module(t,n[a])}),!0}}function y(t){if(t=t||event,!t.ctrlKey&&!t.metaKey&&2!==t.which){t.preventDefault?t.preventDefault():t.returnValue=!1;for(var n=t.currentTarget||t.srcElement,e="pathname"===r.route.mode&&n.search?w(n.search.slice(1)):{};n&&"A"!=n.nodeName.toUpperCase();)n=n.parentNode;r.route(n[r.route.mode].slice(an[r.route.mode].length),e)}}function g(){"hash"!=r.route.mode&&L.hash?L.hash=L.hash:t.scrollTo(0,0)}function b(t,e){var r={},i=[];for(var o in t){var s=e?e+"["+o+"]":o,a=t[o],u=D.call(a),l=null===a?encodeURIComponent(s):u===O?b(a,s):u===$?a.reduce(function(t,n){return r[s]||(r[s]={}),r[s][n]?t:(r[s][n]=!0,t.concat(encodeURIComponent(s)+"="+encodeURIComponent(n)))},[]).join("&"):encodeURIComponent(s)+"="+encodeURIComponent(a);a!==n&&i.push(l)}return i.join("&")}function w(t){for(var n=t.split("&"),e={},r=0,i=n.length;i>r;r++){var o=n[r].split("="),s=decodeURIComponent(o[0]),a=2==o.length?decodeURIComponent(o[1]):null;null!=e[s]?(D.call(e[s])!==$&&(e[s]=[e[s]]),e[s].push(a)):e[s]=a}return e}function A(t){var e=f(t);u(t.childNodes,z[e]),z[e]=n}function E(t,n){var e=r.prop(n);return t.then(e),e.then=function(e,r){return E(t.then(e,r),n)},e}function x(t,n){function e(t){h=t||l,d.map(function(t){h===u&&t.resolve(f)||t.reject(f)})}function i(t,n,e,i){if((null!=f&&D.call(f)===O||typeof f===I)&&typeof t===I)try{var o=0;t.call(f,function(t){o++||(f=t,n())},function(t){o++||(f=t,e())})}catch(s){r.deferred.onerror(s),f=s,e()}else i()}function o(){var l;try{l=f&&f.then}catch(d){return r.deferred.onerror(d),f=d,h=a,o()}i(l,function(){h=s,o()},function(){h=a,o()},function(){try{h===s&&typeof t===I?f=t(f):h===a&&"function"==typeof n&&(f=n(f),h=s)}catch(o){return r.deferred.onerror(o),f=o,e()}f===c?(f=TypeError(),e()):i(l,function(){e(u)},e,function(){e(h===s&&u)})})}var s=1,a=2,u=3,l=4,c=this,h=0,f=0,d=[];c.promise={},c.resolve=function(t){return h||(f=t,h=s,o()),this},c.reject=function(t){return h||(f=t,h=a,o()),this},c.promise.then=function(t,n){var e=new x(t,n);return h===u?e.resolve(f):h===l?e.reject(f):d.push(e),e.promise}}function M(t){return t}function S(e){if(!e.dataType||"jsonp"!==e.dataType.toLowerCase()){var r=new t.XMLHttpRequest;if(r.open(e.method,e.url,!0,e.user,e.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?e.onload({type:"load",target:r}):e.onerror({type:"error",target:r}))},e.serialize===JSON.stringify&&e.data&&"GET"!==e.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof e.config===I){var i=e.config(r,e);null!=i&&(r=i)}var o="GET"!==e.method&&e.data?e.data:"";if(o&&D.call(o)!=V&&o.constructor!=t.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(o),r}var s="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),a=T.createElement("script");t[s]=function(r){a.parentNode.removeChild(a),e.onload({type:"load",target:{responseText:r}}),t[s]=n},a.onerror=function(){return a.parentNode.removeChild(a),e.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),t[s]=n,!1},a.onload=function(){return!1},a.src=e.url+(e.url.indexOf("?")>0?"&":"?")+(e.callbackKey?e.callbackKey:"callback")+"="+s+"&"+b(e.data||{}),T.body.appendChild(a)}function C(t,n,e){if("GET"===t.method&&"jsonp"!=t.dataType){var r=t.url.indexOf("?")<0?"?":"&",i=b(n);t.url=t.url+(i?r+i:"")}else t.data=e(n);return t}function k(t,n){var e=t.match(/:[a-z]\w+/gi);if(e&&n)for(var r=0;r<e.length;r++){var i=e[r].slice(1);t=t.replace(e[r],n[i]),delete n[i]}return t}var T,L,N,q,O="[object Object]",$="[object Array]",V="[object String]",I="function",D={}.toString,P=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,j=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,F=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;e(t);var H,B={appendChild:function(t){H===n&&(H=T.createElement("html")),T.documentElement&&T.documentElement!==t?T.replaceChild(t,T.documentElement):T.appendChild(t),this.childNodes=T.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},R=[],z={};r.render=function(t,e,r){var o=[];if(!t)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var s=f(t),a=t===T,l=a||t===T.documentElement?B:t;a&&"html"!=e.tag&&(e={tag:"html",attrs:{},children:e}),z[s]===n&&u(l.childNodes),r===!0&&A(t),z[s]=i(l,null,n,n,e,z[s],!1,0,null,n,o);for(var c=0,h=o.length;h>c;c++)o[c]()},r.trust=function(t){return t=new String(t),t.$trusted=!0,t},r.prop=function(t){return(null!=t&&D.call(t)===O||typeof t===I)&&typeof t.then===I?E(t):d(t)};var U,K=[],W=[],Q=[],G=null,J=0,Y=null,X=[],Z=16;r.component=function(t){return function(){return _(t,[].slice.call(arguments))}},r.mount=r.module=function(t,n){if(!t)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var e=K.indexOf(t);0>e&&(e=K.length);for(var i,o=!1,s={preventDefault:function(){o=!0}},a=0;i=X[a];a++)i.handler(s),i.controller.onunload=null;if(o)for(var i,a=0;i=X[a];a++)i.controller.onunload=i.handler;else X=[];if(Q[e]&&typeof Q[e].onunload===I&&Q[e].onunload(s),!o){r.redraw.strategy("all"),r.startComputation(),K[e]=t;var u=U=n=n||{},l=n.controller||function(){},c=new l;return u===U&&(Q[e]=c,W[e]=n),rn(),Q[e]}};var tn=!1;r.redraw=function(n){tn||(tn=!0,G&&n!==!0?(N===t.requestAnimationFrame||new Date-J>Z)&&(G>0&&q(G),G=N(p,Z)):(p(),G=N(function(){G=null},Z)),tn=!1)},r.redraw.strategy=r.prop();var nn=function(){return""},en=0;r.startComputation=function(){en++},r.endComputation=function(){en=Math.max(en-1,0),0===en&&r.redraw()};var rn=function(){"none"==r.redraw.strategy()?(en--,r.redraw.strategy("diff")):r.endComputation()};r.withAttr=function(t,n){return function(e){e=e||event;var r=e.currentTarget||this;n(t in r?r[t]:r.getAttribute(t))}};var on,sn,an={pathname:"",hash:"#",search:"?"},un=function(){};return r.route=function(){if(0===arguments.length)return sn;if(3===arguments.length&&D.call(arguments[1])===V){var n=arguments[0],e=arguments[1],i=arguments[2];un=function(t){var o=sn=m(t);v(n,i,o)||r.route(e,!0)};var o="hash"===r.route.mode?"onhashchange":"onpopstate";t[o]=function(){var t=L[r.route.mode];"pathname"===r.route.mode&&(t+=L.search),sn!=m(t)&&un(t)},Y=g,t[o]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){{var s=arguments[0];arguments[1],arguments[2]}s.href=("pathname"!==r.route.mode?L.pathname:"")+an[r.route.mode]+this.attrs.href,s.addEventListener?(s.removeEventListener("click",y),s.addEventListener("click",y)):(s.detachEvent("onclick",y),s.attachEvent("onclick",y))}else if(D.call(arguments[0])===V){var a=sn;sn=arguments[0];var u=arguments[1]||{},l=sn.indexOf("?"),c=l>-1?w(sn.slice(l+1)):{};for(var h in u)c[h]=u[h];var f=b(c),d=l>-1?sn.slice(0,l):sn;f&&(sn=d+(-1===d.indexOf("?")?"?":"&")+f);var _=(3===arguments.length?arguments[2]:arguments[1])===!0||a===arguments[0];t.history.pushState?(Y=function(){t.history[_?"replaceState":"pushState"](null,T.title,an[r.route.mode]+sn),g()},un(an[r.route.mode]+sn)):(L[r.route.mode]=sn,un(an[r.route.mode]+sn))}},r.route.param=function(t){if(!on)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return on[t]},r.route.mode="search",r.route.buildQueryString=b,r.route.parseQueryString=w,r.deferred=function(){var t=new x;return t.promise=E(t.promise),t},r.deferred.onerror=function(t){if("[object Error]"===D.call(t)&&!t.constructor.toString().match(/ Error/))throw t},r.sync=function(t){function n(t,n){return function(r){return s[t]=r,n||(e="reject"),0===--o&&(i.promise(s),i[e](s)),r}}var e="resolve",i=r.deferred(),o=t.length,s=new Array(o);if(t.length>0)for(var a=0;a<t.length;a++)t[a].then(n(a,!0),n(a,!1));else i.resolve([]);return i.promise},r.request=function(t){t.background!==!0&&r.startComputation();var n=new x,e=t.dataType&&"jsonp"===t.dataType.toLowerCase(),i=t.serialize=e?M:t.serialize||JSON.stringify,o=t.deserialize=e?M:t.deserialize||JSON.parse,s=t.extract||function(t){return 0===t.responseText.length&&o===JSON.parse?null:t.responseText};return t.url=k(t.url,t.data),t=C(t,t.data,i),t.onload=t.onerror=function(e){try{e=e||event;var i=("load"===e.type?t.unwrapSuccess:t.unwrapError)||M,a=i(o(s(e.target,t)),e.target);if("load"===e.type)if(D.call(a)===$&&t.type)for(var u=0;u<a.length;u++)a[u]=new t.type(a[u]);else t.type&&(a=new t.type(a));n["load"===e.type?"resolve":"reject"](a)}catch(e){r.deferred.onerror(e),n.reject(e)}t.background!==!0&&r.endComputation()},S(t),n.promise=E(n.promise,t.initialValue),n.promise},r.deps=function(n){return e(t=n||t),t},r.deps.factory=o,r}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=i:(r=function(){return i}.call(n,e,n,t),!(void 0!==r&&(t.exports=r)))}).call(n,e(12)(t))},function(t,n,e){function r(t,n,e,r){this.on(t,n,r,e)}function i(t,n,e,r){this.off(t,n,r,e)}function o(t,n,e){return l.fromSubUnsub(r.bind(this,t,n,e),i.bind(this,t,n,e))}var s=e(10),a=e(14).Delegate,u=e(1),l=e(9);t.exports=function(t,n){var e=new a(t),r={event:o.bind(e)};return u.mount(t,s(r,n)),r}},function(t,n,e){function r(t){var n=u.length;if(n>0){for(var e=0;n>e;e++)u[e].start||(u[e].start=t),u[e].duration>1&&t-u[e].start>u[e].duration?(u[e](1),o(u[e])):u[e]((t-u[e].start)/u[e].duration);a.redraw(!0),window.requestAnimationFrame(r)}}function i(t){return function(n){var e=u.length;u.push(n),n.duration=t||1,0===e&&window.requestAnimationFrame(r)}}function o(t){var n=u.indexOf(t);n>=0&&u.splice(n,1)}var s=e(9),a=e(1),u=[];t.exports=function(t){return s.fromSubUnsub(i(t),o)}},function(t,n,e){var r=e(9);t.exports=r.fromEvent(window,"resize").map(function(t){return[t.target.innerWidth,t.target.innerHeight]}).toProperty([window.innerWidth,window.innerHeight])},function(t){t.exports=function n(t,e,r){if("undefined"==typeof r)return n.bind(null,t,e);if("object"==typeof t){var i={};for(var o in t)i[o]=n(t[o],e[o],r);return i}return"number"==typeof t?t+(e-t)*r:t}},function(t,n,e){var r=e(7);"string"==typeof r&&(r=[[t.id,r,""]]);e(11)(r,{})},function(t,n,e){n=t.exports=e(13)(),n.push([t.id,".supermove-root{width:100%;height:100%;margin:0;padding:0;opacity:.999999;overflow:hidden;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;perspective:500px}.supermove-container{top:0;left:0;bottom:0;right:0;overflow:visible;pointer-events:none;perspective:500px}.supermove-container,.supermove-surface{position:absolute;-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.supermove-surface{-webkit-transform-origin:center center;transform-origin:center center;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-tap-highlight-color:transparent;pointer-events:auto}",""])},function(){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),e=this,r=function(){},i=function(){return e.apply(this instanceof r&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i})},function(t,n){var e,r;!function(i){"use strict";function o(){for(var t=0;t<arguments.length;t++)if(!arguments[t])return arguments[t];return arguments[t-1]}function s(){for(var t=0;t<arguments.length;t++)if(arguments[t])return arguments[t];return arguments[t-1]}function a(t){return!t}function u(t,n){var e,r,i,o;if(0===t.length)return n;if(0===n.length)return t;for(o=0,e=new Array(t.length+n.length),r=t.length,i=0;r>i;i++,o++)e[o]=t[i];for(r=n.length,i=0;r>i;i++,o++)e[o]=n[i];return e}function l(t,n){var e,r=t.length,i=new Array(r);for(e=0;r>e;e++)i[(e+n)%r]=t[e];return i}function c(t,n){var e,r=t.length;for(e=0;r>e;e++)if(t[e]===n)return e;return-1}function h(t,n){var e,r=t.length;for(e=0;r>e;e++)if(n(t[e]))return e;return-1}function f(t){var n,e=t.length,r=new Array(e);for(n=0;e>n;n++)r[n]=t[n];return r}function d(t,n){var e,r,i,o=t.length;if(n>=0&&o>n){if(1===o)return[];for(e=new Array(o-1),r=0,i=0;o>r;r++)r!==n&&(e[i]=t[r],i++);return e}return t}function _(t,n){return d(t,h(t,n))}function p(t,n){var e,r=t.length,i=new Array(r);for(e=0;r>e;e++)i[e]=n(t[e]);return i}function m(t,n){var e,r=t.length;for(e=0;r>e;e++)n(t[e])}function v(t,n){var e,r=t.length;for(e=0;r>e;e++)t[e]=n}function y(t,n){return-1!==c(t,n)}function g(t,n,e){return t.length>n?Array.prototype.slice.call(t,n):e}function b(t,n,e){var r,i=Math.min(e,t.length+1),o=t.length-i+1,s=new Array(i);for(r=o;i>r;r++)s[r-o]=t[r];return s[i-1]=n,s}function w(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}function A(t,n,e){var r=e?e.length:0;if(null==n)switch(r){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);default:return t.apply(null,e)}else switch(r){case 0:return t.call(n);default:return t.apply(n,e)}}function E(t,n,e){return t&&n in t?t[n]:e}function x(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function M(t){var n=function(){};return n.prototype=t,new n}function S(t){var n,e,r=arguments.length;for(n=1;r>n;n++)for(e in arguments[n])t[e]=arguments[n][e];return t}function C(t,n){var e,r=arguments.length;for(t.prototype=M(n.prototype),t.prototype.constructor=t,e=2;r>e;e++)S(t.prototype,arguments[e]);return t}function k(){}function T(t){return t}function L(t,n){return n}function N(t,n){return t===n}function q(t,n){return[t,n]}function O(t,n,e){var r="Method `"+t+"` is deprecated, and to be removed in v3.0.0.";return n&&(r+="\nUse `"+n+"` instead."),r+="\nTo disable all warnings like this set `Kefir.DEPRECATION_WARNINGS = false`.",function(){return ln.DEPRECATION_WARNINGS&&mn(r),e.apply(this,arguments)}}function $(t){return"function"==typeof t}function V(t,n){function e(t,n){B.call(this),this._wait=t,this._intervalId=null;var e=this;this._$onTick=function(){e._onTick()},this._init(n)}C(e,B,{_name:t,_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){B.prototype._clear.call(this),this._$onTick=null,this._free()}},n),ln[t]=function(t){return new e(t,g(arguments,1,[]))}}function I(t,n,e){function r(e){function r(n,r){e.call(this),this._source=n,this._name=n._name+"."+t,this._init(r);var i=this;this._$handleAny=function(t){i._handleAny(t)}}return C(r,e,{_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}},n),r}e=S({streamMethod:function(t){return function(){return new t(this,arguments)}},propertyMethod:function(t,n){return function(){return new n(this,arguments)}}},e||{}),n=S({_init:function(){},_free:function(){},_handleValue:function(t,n){this._send(fn,t,n)},_handleError:function(t,n){this._send(dn,t,n)},_handleEnd:function(t,n){this._send(hn,null,n)},_handleAny:function(t){switch(t.type){case fn:this._handleValue(t.value,t.current);break;case dn:this._handleError(t.value,t.current);break;case hn:this._handleEnd(t.value,t.current)}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)}},n||{});var i=r(B),o=r(R);e.streamMethod&&(B.prototype[t]=e.streamMethod(i,o)),e.propertyMethod&&(R.prototype[t]=e.propertyMethod(i,o))}function D(t,n){function e(e){function r(n,r,i){e.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+t,this._lastSecondary=cn;var o=this;this._$handleSecondaryAny=function(t){o._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){o._handlePrimaryAny(t)},this._init(i)}return C(r,e,{_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}},n),r}n=S({_init:function(){},_free:function(){},_handlePrimaryValue:function(t,n){this._send(fn,t,n)},_handlePrimaryError:function(t,n){this._send(dn,t,n)},_handlePrimaryEnd:function(t,n){this._send(hn,null,n)},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t,n){this._send(dn,t,n)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case fn:this._handlePrimaryValue(t.value,t.current);break;case dn:this._handlePrimaryError(t.value,t.current);break;case hn:this._handlePrimaryEnd(t.value,t.current)}},_handleSecondaryAny:function(t){switch(t.type){case fn:this._handleSecondaryValue(t.value,t.current);break;case dn:this._handleSecondaryError(t.value,t.current);break;case hn:this._handleSecondaryEnd(t.value,t.current),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._alive&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)}},n||{});var r=e(B),i=e(R);B.prototype[t]=function(t){return new r(this,t,g(arguments,1,[]))},R.prototype[t]=function(t){return new i(this,t,g(arguments,1,[]))}}function P(t,n,e){t===_n?n(e):t===e.type&&(t===fn||t===dn?n(e.value):n())}function j(){this._items=[]}function F(t,n,e){return{type:t,value:n,current:!!e}}function H(){this._dispatcher=new j,this._active=!1,this._alive=!0}function B(){H.call(this)}function R(){H.call(this),this._current=cn,this._currentError=cn}function z(t){if(B.call(this),this._queueLim=E(t,"queueLim",0),this._concurLim=E(t,"concurLim",-1),this._drop=E(t,"drop","new"),0===this._concurLim)throw new Error("options.concurLim can't be 0");var n=this;this._$handleSubAny=function(t){n._handleSubAny(t)},this._queue=[],this._curSources=[],this._activating=!1,this._bindedEndHandlers=[]}function U(t){z.call(this),0===t.length?this._send(hn):this._addAll(t),this._initialised=!0}function K(t){z.call(this,{concurLim:1,queueLim:-1}),0===t.length?this._send(hn):this._addAll(t),this._initialised=!0}function W(){z.call(this)}function Q(){z.call(this)}function G(t,n,e){z.call(this,e),this._source=t,this._fn=n||T,this._mainEnded=!1,this._lastCurrent=null;var r=this;this._$handleMainSource=function(t){r._handleMainSource(t)}}function J(t,n){if(B.call(this),0===t.length)this._send(hn);else{this._buffers=p(t,function(t){return vn(t)?f(t):[]}),this._sources=p(t,function(t){return vn(t)?ln.never():t}),this._combinator=n?w(n,this._sources.length):T,this._aliveCount=0,this._bindedHandlers=Array(this._sources.length);for(var e=0;e<this._sources.length;e++)this._bindedHandlers[e]=this._bindHandleAny(e)}}function Y(t,n,e){if(B.call(this),0===t.length)this._send(hn);else{this._activeCount=t.length,this._sources=u(t,n),this._combinator=e?w(e,this._sources.length):T,this._aliveCount=0,this._currents=new Array(this._sources.length),v(this._currents,cn),this._activating=!1,this._emitAfterActivation=!1,this._endAfterActivation=!1,this._bindedHandlers=Array(this._sources.length);for(var r=0;r<this._sources.length;r++)this._bindedHandlers[r]=this._bindHandleAny(r)}}function X(t){return function(){return new t(this,arguments)}}function Z(t,n){return function(){return new n(this,arguments)}}function tn(t){function n(n,e){return t._send(fn,e,t._forcedCurrent),null}function e(){return t._send(hn,null,t._forcedCurrent),null}return{step:n,result:e,"@@transducer/step":n,"@@transducer/result":e}}function nn(t){return{convert:!0,value:t}}function en(t){return{convert:!0,error:t}}function rn(t){B.call(this),this._fn=t,this._unsubscribe=null}function on(){B.call(this)}function sn(t){R.call(this),this._send(fn,t),this._send(hn)}function an(t){R.call(this),this._send(dn,t),this._send(hn)}function un(t){B.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._activating=!1,this._iteration=0;var n=this;this._$handleAny=function(t){n._handleAny(t)}}var ln={},cn=["<nothing>"],hn="end",fn="value",dn="error",_n="any",pn=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},mn=void 0!==typeof console&&$(console.log)?function(t){console.log(t)}:k;ln.DEPRECATION_WARNINGS=!0;var vn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},yn=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)};yn(arguments)||(yn=function(t){return!(!t||!x(t,"callee"))}),S(j.prototype,{add:function(t,n){return this._items=u(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){return this._items=_(this._items,function(e){return e.type===t&&e.fn===n}),this._items.length},dispatch:function(t){for(var n=this._items,e=0;e<n.length;e++)P(n[e].type,n[e].fn,t)}});var gn=F(hn,void 0,!0);ln.Observable=H,S(H.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?this._onActivation():this._onDeactivation())},_clear:function(){this._setActive(!1),this._alive=!1,this._dispatcher=null},_send:function(t,n,e){this._alive&&(this._dispatcher.dispatch(F(t,n,e)),t===hn&&this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):P(t,n,gn),this},_off:function(t,n){if(this._alive){var e=this._dispatcher.remove(t,n);0===e&&this._setActive(!1)}return this},onValue:function(t){return this._on(fn,t)},onError:function(t){return this._on(dn,t)},onEnd:function(t){return this._on(hn,t)},onAny:function(t){return this._on(_n,t)},offValue:function(t){return this._off(fn,t)},offError:function(t){return this._off(dn,t)},offEnd:function(t){return this._off(hn,t)},offAny:function(t){return this._off(_n,t)}}),H.prototype.toString=function(){return"["+this._name+"]"},ln.Stream=B,C(B,H,{_name:"stream"}),ln.Property=R,C(R,H,{_name:"property",_send:function(t,n,e){this._alive&&(e||this._dispatcher.dispatch(F(t,n)),t===fn&&(this._current=n),t===dn&&(this._currentError=n),t===hn&&this._clear())
},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),this._current!==cn&&P(t,n,F(fn,this._current,!0)),this._currentError!==cn&&P(t,n,F(dn,this._currentError,!0)),this._alive||P(t,n,gn),this}}),H.prototype.log=function(t){t=t||this.toString();var n=function(n){var e="<"+n.type+(n.current?":current":"")+">";n.type===fn||n.type===dn?console.log(t,e,n.value):console.log(t,e)};return this.__logHandlers||(this.__logHandlers=[]),this.__logHandlers.push({name:t,handler:n}),this.onAny(n),this},H.prototype.offLog=function(t){if(t=t||this.toString(),this.__logHandlers){var n=h(this.__logHandlers,function(n){return n.name===t});if(-1!==n){var e=this.__logHandlers[n].handler;this.__logHandlers.splice(n,1),this.offAny(e)}}return this},V("withInterval",{_init:function(t){this._fn=t[0];var n=this;this._emitter={emit:function(t){n._send(fn,t)},error:function(t){n._send(dn,t)},end:function(){n._send(hn)},emitEvent:function(t){n._send(t.type,t.value)}}},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){this._fn(this._emitter)}}),V("fromPoll",{_init:function(t){this._fn=t[0]},_free:function(){this._fn=null},_onTick:function(){this._send(fn,this._fn())}}),V("interval",{_init:function(t){this._x=t[0]},_free:function(){this._x=null},_onTick:function(){this._send(fn,this._x)}}),V("sequentially",{_init:function(t){this._xs=f(t[0]),0===this._xs.length&&this._send(hn)},_free:function(){this._xs=null},_onTick:function(){switch(this._xs.length){case 1:this._send(fn,this._xs[0]),this._send(hn);break;default:this._send(fn,this._xs.shift())}}}),V("repeatedly",{_init:function(t){this._xs=f(t[0]),this._i=-1},_onTick:function(){this._xs.length>0&&(this._i=(this._i+1)%this._xs.length,this._send(fn,this._xs[this._i]))}}),ln.repeatedly=O("Kefir.repeatedly()","Kefir.repeat(() => Kefir.sequentially(...)})",ln.repeatedly),V("later",{_init:function(t){this._x=t[0]},_free:function(){this._x=null},_onTick:function(){this._send(fn,this._x),this._send(hn)}}),C(z,B,{_name:"abstractPool",_add:function(t,n){n=n||T,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(n(t)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(n(t)):"old"===this._drop&&(this._removeOldest(),this._add(n(t)))},_addAll:function(t){var n=this;m(t,function(t){n._add(t)})},_remove:function(t){-1===this._removeCur(t)&&this._removeQueue(t)},_addToQueue:function(t){this._queue=u(this._queue,[t])},_addToCur:function(t){this._curSources=u(this._curSources,[t]),this._active&&this._subscribe(t)},_subscribe:function(t){var n=this,e=function(){n._removeCur(t)};this._bindedEndHandlers.push({obs:t,handler:e}),t.onAny(this._$handleSubAny),t.onEnd(e)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var n=h(this._bindedEndHandlers,function(n){return n.obs===t});if(-1!==n){var e=this._bindedEndHandlers[n].handler;this._bindedEndHandlers.splice(n,1),t.offEnd(e)}},_handleSubAny:function(t){(t.type===fn||t.type===dn)&&this._send(t.type,t.value,t.current&&this._activating)},_removeQueue:function(t){var n=c(this._queue,t);return this._queue=d(this._queue,n),n},_removeCur:function(t){this._active&&this._unsubscribe(t);var n=c(this._curSources,t);return this._curSources=d(this._curSources,n),-1!==n&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),n},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=f(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){var t,n=this._curSources;for(this._activating=!0,t=0;t<n.length;t++)this._active&&this._subscribe(n[t]);this._activating=!1},_onDeactivation:function(){var t,n=this._curSources;for(t=0;t<n.length;t++)this._unsubscribe(n[t])},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){B.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._bindedEndHandlers=null}});var bn={_onEmpty:function(){this._initialised&&this._send(hn,null,this._activating)}};C(U,z,S({_name:"merge"},bn)),ln.merge=function(t){return new U(t)},H.prototype.merge=function(t){return ln.merge([this,t])},C(K,z,S({_name:"concat"},bn)),ln.concat=function(t){return new K(t)},H.prototype.concat=function(t){return ln.concat([this,t])},ln.Pool=W,C(W,z,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),ln.pool=function(){return new W},ln.Bus=Q,C(Q,z,{_name:"bus",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this},emit:function(t){return this._send(fn,t),this},error:function(t){return this._send(dn,t),this},end:function(){return this._send(hn),this},emitEvent:function(t){this._send(t.type,t.value)}}),ln.bus=function(){return new Q},C(G,z,{_onActivation:function(){z.prototype._onActivation.call(this),this._active&&(this._activating=!0,this._source.onAny(this._$handleMainSource),this._activating=!1)},_onDeactivation:function(){z.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMainSource)},_handleMainSource:function(t){t.type===fn&&(t.current&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value),t.type===dn&&this._send(dn,t.value,t.current),t.type===hn&&(this._isEmpty()?this._send(hn,null,t.current):this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._send(hn)},_clear:function(){z.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMainSource=null}}),H.prototype.flatMap=function(t){return new G(this,t).setName(this,"flatMap")},H.prototype.flatMapLatest=function(t){return new G(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},H.prototype.flatMapFirst=function(t){return new G(this,t,{concurLim:1}).setName(this,"flatMapFirst")},H.prototype.flatMapConcat=function(t){return new G(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},H.prototype.flatMapConcurLimit=function(t,n){var e;return 0===n?e=ln.never():(0>n&&(n=-1),e=new G(this,t,{queueLim:-1,concurLim:n})),e.setName(this,"flatMapConcurLimit")},C(J,B,{_name:"zip",_onActivation:function(){var t,n=this._sources.length;for(this._drainArrays(),this._aliveCount=n,t=0;n>t;t++)this._active&&this._sources[t].onAny(this._bindedHandlers[t])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._bindedHandlers[t])},_emit:function(t){for(var n=new Array(this._buffers.length),e=0;e<this._buffers.length;e++)n[e]=this._buffers[e].shift();this._send(fn,this._combinator(n),t)},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_emitIfFull:function(t){this._isFull()&&this._emit(t)},_drainArrays:function(){for(;this._isFull();)this._emit(!0)},_bindHandleAny:function(t){var n=this;return function(e){n._handleAny(t,e)}},_handleAny:function(t,n){n.type===fn&&(this._buffers[t].push(n.value),this._emitIfFull(n.current)),n.type===dn&&this._send(dn,n.value,n.current),n.type===hn&&(this._aliveCount--,0===this._aliveCount&&this._send(hn,null,n.current))},_clear:function(){B.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._bindedHandlers=null}}),ln.zip=function(t,n){return new J(t,n)},H.prototype.zip=function(t,n){return new J([this,t],n)},C(Y,B,{_name:"combine",_onActivation:function(){var t,n=this._sources.length;for(this._aliveCount=this._activeCount,this._activating=!0,t=0;n>t;t++)this._sources[t].onAny(this._bindedHandlers[t]);this._activating=!1,this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull(!0)),this._endAfterActivation&&this._send(hn,null,!0)},_onDeactivation:function(){var t,n=this._sources.length;for(t=0;n>t;t++)this._sources[t].offAny(this._bindedHandlers[t])},_emitIfFull:function(t){if(!y(this._currents,cn)){var n=f(this._currents);n=this._combinator(n),this._send(fn,n,t)}},_bindHandleAny:function(t){var n=this;return function(e){n._handleAny(t,e)}},_handleAny:function(t,n){n.type===fn&&(this._currents[t]=n.value,t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull(n.current))),n.type===dn&&this._send(dn,n.value,n.current),n.type===hn&&t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._send(hn,null,n.current)))},_clear:function(){B.prototype._clear.call(this),this._sources=null,this._currents=null,this._combinator=null,this._bindedHandlers=null}}),ln.combine=function(t,n,e){return $(n)&&(e=n,n=null),new Y(t,n||[],e)},H.prototype.combine=function(t,n){return ln.combine([this,t],n)},ln.sampledBy=O("Kefir.sampledBy()","Kefir.combine(active, passive, combinator)",function(t,n,e){var r=e;if(t.length>0){var i=t.length;r=function(){var t=l(arguments,i);return e?A(e,null,t):t}}return new Y(n,t,r).setName("sampledBy")}),H.prototype.sampledBy=function(t,n){var e;return n&&(e=function(t,e){return n(e,t)}),new Y([t],[this],e||L).setName(this,"sampledBy")},I("toProperty",{_init:function(t){t.length>0&&this._send(fn,t[0])}},{propertyMethod:Z,streamMethod:Z}),I("changes",{_handleValue:function(t,n){n||this._send(fn,t)},_handleError:function(t,n){n||this._send(dn,t)}},{streamMethod:function(){return function(){return this}},propertyMethod:X}),I("withHandler",{_init:function(t){this._handler=t[0],this._forcedCurrent=!1;var n=this;this._emitter={emit:function(t){n._send(fn,t,n._forcedCurrent)},error:function(t){n._send(dn,t,n._forcedCurrent)},end:function(){n._send(hn,null,n._forcedCurrent)},emitEvent:function(t){n._send(t.type,t.value,n._forcedCurrent)}}},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._forcedCurrent=t.current,this._handler(this._emitter,t),this._forcedCurrent=!1}}),I("flatten",{_init:function(t){this._fn=t[0]?t[0]:T},_free:function(){this._fn=null},_handleValue:function(t,n){for(var e=this._fn(t),r=0;r<e.length;r++)this._send(fn,e[r],n)}});var wn={step:"step",result:"result"},An={step:"@@transducer/step",result:"@@transducer/result"};I("transduce",{_init:function(t){var n=t[0](tn(this));if($(n[An.step])&&$(n[An.result]))this._transformMethods=An;else{if(!$(n[wn.step])||!$(n[wn.result]))throw new Error("Unsuported transducers protocol");this._transformMethods=wn}this._xform=n},_free:function(){this._xform=null,this._transformMethods=null},_handleValue:function(t,n){this._forcedCurrent=n,null!==this._xform[this._transformMethods.step](null,t)&&this._xform[this._transformMethods.result](null),this._forcedCurrent=!1},_handleEnd:function(t,n){this._forcedCurrent=n,this._xform[this._transformMethods.result](null),this._forcedCurrent=!1}}),I("map",{_init:function(t){this._fn=t[0]||T},_free:function(){this._fn=null},_handleValue:function(t,n){this._send(fn,this._fn(t),n)}}),I("mapErrors",{_init:function(t){this._fn=t[0]||T},_free:function(){this._fn=null},_handleError:function(t,n){this._send(dn,this._fn(t),n)}}),I("errorsToValues",{_init:function(t){this._fn=t[0]||nn},_free:function(){this._fn=null},_handleError:function(t,n){var e=this._fn(t),r=e.convert?fn:dn,i=e.convert?e.value:t;this._send(r,i,n)}}),I("valuesToErrors",{_init:function(t){this._fn=t[0]||en},_free:function(){this._fn=null},_handleValue:function(t,n){var e=this._fn(t),r=e.convert?dn:fn,i=e.convert?e.error:t;this._send(r,i,n)}}),I("filter",{_init:function(t){this._fn=t[0]||T},_free:function(){this._fn=null},_handleValue:function(t,n){this._fn(t)&&this._send(fn,t,n)}}),I("filterErrors",{_init:function(t){this._fn=t[0]||T},_free:function(){this._fn=null},_handleError:function(t,n){this._fn(t)&&this._send(dn,t,n)}}),I("takeWhile",{_init:function(t){this._fn=t[0]||T},_free:function(){this._fn=null},_handleValue:function(t,n){this._fn(t)?this._send(fn,t,n):this._send(hn,null,n)}}),I("take",{_init:function(t){this._n=t[0],this._n<=0&&this._send(hn)},_handleValue:function(t,n){this._n--,this._send(fn,t,n),0===this._n&&this._send(hn,null,n)}}),I("skip",{_init:function(t){this._n=Math.max(0,t[0])},_handleValue:function(t,n){0===this._n?this._send(fn,t,n):this._n--}}),I("skipDuplicates",{_init:function(t){this._fn=t[0]||N,this._prev=cn},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t,n){this._prev!==cn&&this._fn(this._prev,t)||(this._prev=t,this._send(fn,t,n))}}),I("skipWhile",{_init:function(t){this._fn=t[0]||T,this._skip=!0},_free:function(){this._fn=null},_handleValue:function(t,n){return this._skip?void(this._fn(t)||(this._skip=!1,this._fn=null,this._send(fn,t,n))):void this._send(fn,t,n)}}),I("diff",{_init:function(t){this._fn=t[0]||q,this._prev=t.length>1?t[1]:cn},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t,n){this._prev!==cn&&this._send(fn,this._fn(this._prev,t),n),this._prev=t}}),I("scan",{_init:function(t){this._fn=t[0],t.length>1&&this._send(fn,t[1],!0)},_free:function(){this._fn=null},_handleValue:function(t,n){this._current!==cn&&(t=this._fn(this._current,t)),this._send(fn,t,n)}},{streamMethod:Z}),I("reduce",{_init:function(t){this._fn=t[0],this._result=t.length>1?t[1]:cn},_free:function(){this._fn=null,this._result=null},_handleValue:function(t){this._result=this._result===cn?t:this._fn(this._result,t)},_handleEnd:function(t,n){this._result!==cn&&this._send(fn,this._result,n),this._send(hn,null,n)}}),I("mapEnd",{_init:function(t){this._fn=t[0]},_free:function(){this._fn=null},_handleEnd:function(t,n){this._send(fn,this._fn(),n),this._send(hn,null,n)}}),I("skipValues",{_handleValue:function(){}}),I("skipErrors",{_handleError:function(){}}),I("skipEnd",{_handleEnd:function(){}}),I("endOnError",{_handleError:function(t,n){this._send(dn,t,n),this._send(hn,null,n)}}),I("slidingWindow",{_init:function(t){this._max=t[0],this._min=t[1]||0,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t,n){this._buff=b(this._buff,t,this._max),this._buff.length>=this._min&&this._send(fn,this._buff,n)}}),I("bufferWhile",{_init:function(t){this._fn=t[0]||T,this._flushOnEnd=E(t[1],"flushOnEnd",!0),this._buff=[]},_free:function(){this._buff=null},_flush:function(t){null!==this._buff&&0!==this._buff.length&&(this._send(fn,this._buff,t),this._buff=[])},_handleValue:function(t,n){this._buff.push(t),this._fn(t)||this._flush(n)},_handleEnd:function(t,n){this._flushOnEnd&&this._flush(n),this._send(hn,null,n)}}),I("debounce",{_init:function(t){this._wait=Math.max(0,t[0]),this._immediate=E(t[1],"immediate",!1),this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1;var n=this;this._$later=function(){n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t,n){n?this._send(fn,t,n):(this._lastAttempt=pn(),this._immediate&&!this._timeoutId&&this._send(fn,t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(t,n){n?this._send(hn,null,n):this._timeoutId&&!this._immediate?this._endLater=!0:this._send(hn)},_later:function(){var t=pn()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._send(fn,this._laterValue),this._laterValue=null),this._endLater&&this._send(hn))}}),I("throttle",{_init:function(t){this._wait=Math.max(0,t[0]),this._leading=E(t[1],"leading",!0),this._trailing=E(t[1],"trailing",!0),this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0;var n=this;this._$trailingCall=function(){n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t,n){if(n)this._send(fn,t,n);else{var e=pn();0!==this._lastCallTime||this._leading||(this._lastCallTime=e);var r=this._wait-(e-this._lastCallTime);0>=r?(this._cancelTraling(),this._lastCallTime=e,this._send(fn,t)):this._trailing&&(this._cancelTraling(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,r))}},_handleEnd:function(t,n){n?this._send(hn,null,n):this._timeoutId?this._endLater=!0:this._send(hn)},_cancelTraling:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._send(fn,this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?pn():0,this._endLater&&this._send(hn)}}),I("delay",{_init:function(t){this._wait=Math.max(0,t[0]),this._buff=[];var n=this;this._$shiftBuff=function(){n._send(fn,n._buff.shift())}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t,n){n?this._send(fn,t,n):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(t,n){if(n)this._send(hn,null,n);else{var e=this;setTimeout(function(){e._send(hn)},this._wait)}}}),C(rn,B,{_name:"fromBinder",_onActivation:function(){var t=this,n=!0,e={emit:function(e){t._send(fn,e,n)},error:function(e){t._send(dn,e,n)},end:function(){t._send(hn,null,n)},emitEvent:function(e){t._send(e.type,e.value,n)}};this._unsubscribe=this._fn(e)||null,this._active||null===this._unsubscribe||(this._unsubscribe(),this._unsubscribe=null),n=!1},_onDeactivation:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_clear:function(){B.prototype._clear.call(this),this._fn=null}}),ln.fromBinder=function(t){return new rn(t)},C(on,B,{_name:"emitter",emit:function(t){return this._send(fn,t),this},error:function(t){return this._send(dn,t),this},end:function(){return this._send(hn),this},emitEvent:function(t){this._send(t.type,t.value)}}),ln.emitter=function(){return new on},ln.Emitter=on;var En=new B;En._send(hn),En._name="never",ln.never=function(){return En},C(sn,R,{_name:"constant"}),ln.constant=function(t){return new sn(t)},C(an,R,{_name:"constantError"}),ln.constantError=function(t){return new an(t)},C(un,B,{_name:"repeat",_handleAny:function(t){t.type===hn?(this._source=null,this._startLoop()):this._send(t.type,t.value,this._activating)},_startLoop:function(){if(!this._inLoop){for(this._inLoop=!0;null===this._source&&this._alive&&this._active;)this._source=this._generator(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._send(hn);this._inLoop=!1}},_onActivation:function(){this._activating=!0,this._source?this._source.onAny(this._$handleAny):this._startLoop(),this._activating=!1},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){B.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),ln.repeat=function(t){return new un(t)},H.prototype.setName=function(t,n){return this._name=n?t._name+"."+n:t,this},H.prototype.mapTo=O(".mapTo()",".map(() => value)",function(t){return this.map(function(){return t}).setName(this,"mapTo")}),H.prototype.pluck=O(".pluck()",".map((v) => v.prop)",function(t){return this.map(function(n){return n[t]}).setName(this,"pluck")}),H.prototype.invoke=O(".invoke()",".map((v) => v.method())",function(t){var n=g(arguments,1);return this.map(n?function(e){return A(e[t],e,n)}:function(n){return n[t]()}).setName(this,"invoke")}),H.prototype.timestamp=O(".timestamp()",".map((v) => {value: v, time: (new Date).getTime()})",function(){return this.map(function(t){return{value:t,time:pn()}}).setName(this,"timestamp")}),H.prototype.tap=O(".tap()",".map((v) => {fn(v); return v})",function(t){return this.map(function(n){return t(n),n}).setName(this,"tap")}),ln.and=O("Kefir.and()","Kefir.combine([a, b], (a, b) => a && b)",function(t){return ln.combine(t,o).setName("and")}),H.prototype.and=O(".and()",".combine(other, (a, b) => a && b)",function(t){return this.combine(t,o).setName("and")}),ln.or=O("Kefir.or()","Kefir.combine([a, b], (a, b) => a || b)",function(t){return ln.combine(t,s).setName("or")}),H.prototype.or=O(".or()",".combine(other, (a, b) => a || b)",function(t){return this.combine(t,s).setName("or")}),H.prototype.not=O(".not()",".map(v => !v)",function(){return this.map(a).setName(this,"not")}),H.prototype.awaiting=function(t){return ln.merge([this.mapTo(!0),t.mapTo(!1)]).skipDuplicates().toProperty(!1).setName(this,"awaiting")},ln.fromCallback=function(t){var n=!1;return ln.fromBinder(function(e){n||(t(function(t){e.emit(t),e.end()}),n=!0)}).setName("fromCallback")},ln.fromNodeCallback=function(t){var n=!1;return ln.fromBinder(function(e){n||(t(function(t,n){t?e.error(t):e.emit(n),e.end()}),n=!0)}).setName("fromNodeCallback")},ln.fromPromise=function(t){var n=!1;return ln.fromBinder(function(e){if(!n){var r=function(t){e.emit(t),e.end()},i=function(t){e.error(t),e.end()},o=t.then(r,i);o&&$(o.done)&&o.done(),n=!0}}).toProperty().setName("fromPromise")},ln.fromSubUnsub=function(t,n,e){return ln.fromBinder(function(r){var i=e?function(){r.emit(A(e,this,arguments))}:r.emit;return t(i),function(){n(i)}})};var xn=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];ln.fromEvent=function(t,n,e){for(var r,i,o,s=0;s<xn.length;s++)if(r=xn[s],$(t[r[0]])&&$(t[r[1]])){i=r[0],o=r[1];break}if(void 0===i)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return ln.fromSubUnsub(function(e){t[i](n,e)},function(e){t[o](n,e)},e).setName("fromEvent")};var Mn={_init:function(t){this._buff=[],this._flushOnEnd=E(t[0],"flushOnEnd",!0)},_free:function(){this._buff=null},_flush:function(t){null!==this._buff&&0!==this._buff.length&&(this._send(fn,this._buff,t),this._buff=[])},_handlePrimaryEnd:function(t,n){this._flushOnEnd&&this._flush(n),this._send(hn,null,n)}};D("bufferBy",S({_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(t,n){this._flush(n)},_handleSecondaryEnd:function(t,n){this._flushOnEnd||this._send(hn,null,n)}},Mn)),D("bufferWhileBy",S({_handlePrimaryValue:function(t,n){this._buff.push(t),this._lastSecondary===cn||this._lastSecondary||this._flush(n)},_handleSecondaryEnd:function(t,n){this._flushOnEnd||this._lastSecondary!==cn&&!this._lastSecondary||this._send(hn,null,n)}},Mn)),D("filterBy",{_handlePrimaryValue:function(t,n){this._lastSecondary!==cn&&this._lastSecondary&&this._send(fn,t,n)},_handleSecondaryEnd:function(t,n){this._lastSecondary!==cn&&this._lastSecondary||this._send(hn,null,n)}}),D("skipUntilBy",{_handlePrimaryValue:function(t,n){this._lastSecondary!==cn&&this._send(fn,t,n)},_handleSecondaryEnd:function(t,n){this._lastSecondary===cn&&this._send(hn,null,n)}}),D("takeUntilBy",{_handleSecondaryValue:function(t,n){this._send(hn,null,n)}}),D("takeWhileBy",{_handlePrimaryValue:function(t,n){this._lastSecondary!==cn&&this._send(fn,t,n)},_handleSecondaryValue:function(t,n){this._lastSecondary=t,this._lastSecondary||this._send(hn,null,n)},_handleSecondaryEnd:function(t,n){this._lastSecondary===cn&&this._send(hn,null,n)}}),D("skipWhileBy",{_init:function(){this._hasFalseyFromSecondary=!1},_handlePrimaryValue:function(t,n){this._hasFalseyFromSecondary&&this._send(fn,t,n)},_handleSecondaryValue:function(t){this._hasFalseyFromSecondary=this._hasFalseyFromSecondary||!t},_handleSecondaryEnd:function(t,n){this._hasFalseyFromSecondary||this._send(hn,null,n)}}),e=[],r=function(){return ln}.apply(n,e),!(void 0!==r&&(t.exports=r)),i.Kefir=ln}(this)},function(t,n,e){function r(){this.matrix=l.create(),this.data={id:"",element:".supermove-surface",show:!1,width:0,height:0,rotateX:0,rotateY:0,rotateZ:0,x:0,y:0,z:0,origin:[.5,.5],scale:[1,1,1],opacity:1,content:""},this.style="display: none;"}function i(t){var n=t.data.id?{style:t.style,id:t.data.id,key:t.data.id}:{style:t.style,key:t.data.id};return c(t.data.element,n,t.data.content)}function o(t){var n=this._idToIndex[t],e=this.surfaces.length;if("undefined"==typeof n){for(n=0;e>n&&this.surfaces[n].data.show===!0;)n++;if(n===e)this.surfaces.push(new r);else{var i=this.surfaces[n].data.id;this._idToIndex[i]=void 0}this._idToIndex[t]=n}return n}function s(t){var n=o.call(this,t);return this.surfaces[n].data}function a(t){index=o.call(this,t.id),this.surfaces[index].set(t)}function u(t){index=o.call(this,t.id),this.surfaces[index].inc(t)}var l=e(15).mat4,c=e(1);r.prototype.set=function(t){for(var n in this.data)"undefined"!=typeof t[n]&&(this.data[n]=t[n]);t.element&&(this.data.element=t.element+".supermove-surface"),this.setStyle()},r.prototype.inc=function(t){for(var n in this.data)"number"==typeof t[n]&&"id"!==n&&(this.data[n]+=t[n]);t.origin&&(this.data.origin[0]+=t.origin[0],this.data.origin[1]+=t.origin[1],this.data.origin[2]+=t.origin[2]),t.scale&&(this.data.scale[0]+=t.scale[0],this.data.scale[1]+=t.scale[1],this.data.scale[2]+=t.scale[2]),this.setStyle()},r.prototype.setStyle=function(){if(this.data.show===!1)return void(this.style="display: none;");var t=this.matrix,n=this.data;n.opacity>=1?n.opacity=.99999:n.opacity<=0&&(n.opacity=1e-5),this.style="opacity: "+n.opacity+"; ",l.identity(t),l.translate(t,t,[n.x,n.y,n.z]),n.rotateX&&l.rotateX(t,t,n.rotateX),n.rotateY&&l.rotateY(t,t,n.rotateY),n.rotateZ&&l.rotateZ(t,t,n.rotateZ),l.scale(t,t,n.scale),n.width&&(this.style+="width: "+n.width+"; "),n.height&&(this.style+="height: "+n.height+"; "),this.style+="transform-origin: "+100*n.origin[0]+"% "+100*n.origin[1]+"% 0px; ",this.style+=l.str(t).replace("mat4","transform: matrix3d")+"; "},t.exports=c.component({controller:function(t,n){n=n||50,this.surfaces=new Array(n),this._idToIndex={};for(var e=0;n>e;e++)this.surfaces[e]=new r;t.render=a.bind(this),t.inc=u.bind(this),t.element=s.bind(this)},view:function(t){return c(".supermove-container",t.surfaces.map(i))}})},function(t){function n(t,n){for(var e=0;e<t.length;e++){var r=t[e],o=u[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(i(r.parts[s],n))}else{for(var a=[],s=0;s<r.parts.length;s++)a.push(i(r.parts[s],n));u[r.id]={id:r.id,refs:1,parts:a}}}}function e(t){for(var n=[],e={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],a=i[2],u=i[3],l={css:s,media:a,sourceMap:u};e[o]?e[o].parts.push(l):n.push(e[o]={id:o,parts:[l]})}return n}function r(){var t=document.createElement("style"),n=h();return t.type="text/css",n.appendChild(t),t}function i(t,n){var e,i,o;if(n.singleton){var u=d++;e=f||(f=r()),i=s.bind(null,e,u,!1),o=s.bind(null,e,u,!0)}else e=r(),i=a.bind(null,e),o=function(){e.parentNode.removeChild(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else o()}}function o(t,n,e){var r=["/** >>"+n+" **/","/** "+n+"<< **/"],i=t.lastIndexOf(r[0]),o=e?r[0]+e+r[1]:"";if(t.lastIndexOf(r[0])>=0){var s=t.lastIndexOf(r[1])+r[1].length;return t.slice(0,i)+o+t.slice(s)}return t+o}function s(t,n,e,r){var i=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=o(t.styleSheet.cssText,n,i);else{var s=document.createTextNode(i),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(s,a[n]):t.appendChild(s)}}function a(t,n){var e=n.css,r=n.media,i=n.sourceMap;if(i&&"function"==typeof btoa)try{e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(i))+" */",e='@import url("data:text/css;base64,'+btoa(e)+'")'}catch(o){}if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var u={},l=function(t){var n;return function(){return"undefined"==typeof n&&(n=t.apply(this,arguments)),n}},c=l(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=l(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,d=0;t.exports=function(t,r){r=r||{},"undefined"==typeof r.singleton&&(r.singleton=c());var i=e(t);return n(i,r),function(t){for(var o=[],s=0;s<i.length;s++){var a=i[s],l=u[a.id];l.refs--,o.push(l)}if(t){var c=e(t);n(c,r)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete u[l.id]}}}}},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],n=0;n<this.length;n++){var e=this[n];t.push(e[2]?"@media "+e[2]+"{"+e[1]+"}":e[1])}return t.join("")},t}},function(t,n,e){"use strict";/**
	 * @preserve Create and manage a DOM event delegator.
	 *
	 * @version 0.3.0
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
var r=e(16);t.exports=function(t){return new r(t)},t.exports.Delegate=r},function(t,n){!function(){"use strict";var t={};t.exports=n,function(t){if(!n)var n=1e-6;if(!e)var e="undefined"!=typeof Float32Array?Float32Array:Array;var r={};r.setMatrixArrayType=function(t){e=t},"undefined"!=typeof t&&(t.glMatrix=r);var i={};i.create=function(){var t=new e(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},i.fromValues=function(t,n){var r=new e(2);return r[0]=t,r[1]=n,r},i.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},i.set=function(t,n,e){return t[0]=n,t[1]=e,t},i.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},i.subtract=function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t},i.sub=i.subtract,i.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t},i.mul=i.multiply,i.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t},i.div=i.divide,i.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t},i.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t},i.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t},i.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)},i.dist=i.distance,i.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)},i.len=i.length,i.squaredLength=function(t){var n=t[0],e=t[1];return n*n+e*e},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},i.normalize=function(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},i.cross=function(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,n,e,r){var i=n[0],o=n[1];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t},i.transformMat2=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t},i.transformMat2d=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t},i.transformMat3=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t},i.transformMat4=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t},i.forEach=function(){var t=i.create();return function(n,e,r,i,o,s){var a,u;for(e||(e=2),r||(r=0),u=i?Math.min(i*e+r,n.length):n.length,a=r;u>a;a+=e)t[0]=n[a],t[1]=n[a+1],o(t,t,s),n[a]=t[0],n[a+1]=t[1];return n}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},"undefined"!=typeof t&&(t.vec2=i);var o={};o.create=function(){var t=new e(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var n=new e(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},o.fromValues=function(t,n,r){var i=new e(3);return i[0]=t,i[1]=n,i[2]=r,i},o.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},o.set=function(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t},o.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},o.subtract=function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t},o.sub=o.subtract,o.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t},o.mul=o.multiply,o.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t},o.div=o.divide,o.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},o.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},o.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},o.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)},o.dist=o.distance,o.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i},o.sqrDist=o.squaredDistance,o.length=function(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)},o.len=o.length,o.squaredLength=function(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},o.normalize=function(t,n){var e=n[0],r=n[1],i=n[2],o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t},o.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},o.cross=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],u=e[2];return t[0]=i*u-o*a,t[1]=o*s-r*u,t[2]=r*a-i*s,t},o.lerp=function(t,n,e,r){var i=n[0],o=n[1],s=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t},o.transformMat4=function(t,n,e){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12],t[1]=e[1]*r+e[5]*i+e[9]*o+e[13],t[2]=e[2]*r+e[6]*i+e[10]*o+e[14],t},o.transformQuat=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],u=e[2],l=e[3],c=l*r+a*o-u*i,h=l*i+u*r-s*o,f=l*o+s*i-a*r,d=-s*r-a*i-u*o;return t[0]=c*l+d*-s+h*-u-f*-a,t[1]=h*l+d*-a+f*-s-c*-u,t[2]=f*l+d*-u+c*-a-h*-s,t},o.forEach=function(){var t=o.create();return function(n,e,r,i,o,s){var a,u;for(e||(e=3),r||(r=0),u=i?Math.min(i*e+r,n.length):n.length,a=r;u>a;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],o(t,t,s),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2];return n}}(),o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!=typeof t&&(t.vec3=o);var s={};s.create=function(){var t=new e(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},s.clone=function(t){var n=new e(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},s.fromValues=function(t,n,r,i){var o=new e(4);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,o},s.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},s.set=function(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t},s.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},s.subtract=function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t},s.sub=s.subtract,s.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t},s.mul=s.multiply,s.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t},s.div=s.divide,s.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},s.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},s.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t},s.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)},s.dist=s.distance,s.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o},s.sqrDist=s.squaredDistance,s.length=function(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)},s.len=s.length,s.squaredLength=function(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i},s.sqrLen=s.squaredLength,s.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},s.normalize=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=e*e+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=n[3]*s),t},s.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},s.lerp=function(t,n,e,r){var i=n[0],o=n[1],s=n[2],a=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t[3]=a+r*(e[3]-a),t},s.transformMat4=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*s,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*s,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*s,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*s,t},s.transformQuat=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],u=e[2],l=e[3],c=l*r+a*o-u*i,h=l*i+u*r-s*o,f=l*o+s*i-a*r,d=-s*r-a*i-u*o;return t[0]=c*l+d*-s+h*-u-f*-a,t[1]=h*l+d*-a+f*-s-c*-u,t[2]=f*l+d*-u+c*-a-h*-s,t},s.forEach=function(){var t=s.create();return function(n,e,r,i,o,s){var a,u;for(e||(e=4),r||(r=0),u=i?Math.min(i*e+r,n.length):n.length,a=r;u>a;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],t[3]=n[a+3],o(t,t,s),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2],n[a+3]=t[3];return n}}(),s.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.vec4=s);{var a={};new Float32Array([1,0,0,1])}a.create=function(){var t=new e(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var n=new e(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},a.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.transpose=function(t,n){if(t===n){var e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},a.invert=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=e*o-i*r;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-i*s,t[3]=e*s,t):null},a.adjoint=function(t,n){var e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],u=e[1],l=e[2],c=e[3];return t[0]=r*a+i*l,t[1]=r*u+i*c,t[2]=o*a+s*l,t[3]=o*u+s*c,t},a.mul=a.multiply,a.rotate=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=Math.sin(e),u=Math.cos(e);return t[0]=r*u+i*a,t[1]=r*-a+i*u,t[2]=o*u+s*a,t[3]=o*-a+s*u,t},a.scale=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],u=e[1];return t[0]=r*a,t[1]=i*u,t[2]=o*a,t[3]=s*u,t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.mat2=a);{var u={};new Float32Array([1,0,0,1,0,0])}u.create=function(){var t=new e(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},u.clone=function(t){var n=new e(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},u.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},u.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},u.invert=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],u=e*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=e*u,t[4]=(i*a-o*s)*u,t[5]=(r*s-e*a)*u,t):null},u.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},u.multiply=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=e[0],c=e[1],h=e[2],f=e[3],d=e[4],_=e[5];return t[0]=r*l+i*h,t[1]=r*c+i*f,t[2]=o*l+s*h,t[3]=o*c+s*f,t[4]=l*a+h*u+d,t[5]=c*a+f*u+_,t},u.mul=u.multiply,u.rotate=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=Math.sin(e),c=Math.cos(e);return t[0]=r*c+i*l,t[1]=-r*l+i*c,t[2]=o*c+s*l,t[3]=-o*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t},u.scale=function(t,n,e){var r=e[0],i=e[1];return t[0]=n[0]*r,t[1]=n[1]*i,t[2]=n[2]*r,t[3]=n[3]*i,t[4]=n[4]*r,t[5]=n[5]*i,t},u.translate=function(t,n,e){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4]+e[0],t[5]=n[5]+e[1],t},u.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},"undefined"!=typeof t&&(t.mat2d=u);{var l={};new Float32Array([1,0,0,0,1,0,0,0,1])}l.create=function(){var t=new e(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},l.clone=function(t){var n=new e(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},l.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},l.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},l.transpose=function(t,n){if(t===n){var e=n[1],r=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},l.invert=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],u=n[6],l=n[7],c=n[8],h=c*s-a*l,f=-c*o+a*u,d=l*o-s*u,_=e*h+r*f+i*d;return _?(_=1/_,t[0]=h*_,t[1]=(-c*r+i*l)*_,t[2]=(a*r-i*s)*_,t[3]=f*_,t[4]=(c*e-i*u)*_,t[5]=(-a*e+i*o)*_,t[6]=d*_,t[7]=(-l*e+r*u)*_,t[8]=(s*e-r*o)*_,t):null},l.adjoint=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],u=n[6],l=n[7],c=n[8];return t[0]=s*c-a*l,t[1]=i*l-r*c,t[2]=r*a-i*s,t[3]=a*u-o*c,t[4]=e*c-i*u,t[5]=i*o-e*a,t[6]=o*l-s*u,t[7]=r*u-e*l,t[8]=e*s-r*o,t},l.determinant=function(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8];return n*(l*o-s*u)+e*(-l*i+s*a)+r*(u*i-o*a)},l.multiply=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=e[0],d=e[1],_=e[2],p=e[3],m=e[4],v=e[5],y=e[6],g=e[7],b=e[8];return t[0]=f*r+d*s+_*l,t[1]=f*i+d*a+_*c,t[2]=f*o+d*u+_*h,t[3]=p*r+m*s+v*l,t[4]=p*i+m*a+v*c,t[5]=p*o+m*u+v*h,t[6]=y*r+g*s+b*l,t[7]=y*i+g*a+b*c,t[8]=y*o+g*u+b*h,t},l.mul=l.multiply,l.translate=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=e[0],d=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=f*r+d*s+l,t[7]=f*i+d*a+c,t[8]=f*o+d*u+h,t},l.rotate=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=Math.sin(e),d=Math.cos(e);return t[0]=d*r+f*s,t[1]=d*i+f*a,t[2]=d*o+f*u,t[3]=d*s-f*r,t[4]=d*a-f*i,t[5]=d*u-f*o,t[6]=l,t[7]=c,t[8]=h,t},l.scale=function(t,n,e){var r=e[0],i=e[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},l.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},l.fromQuat=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=e+e,a=r+r,u=i+i,l=e*s,c=e*a,h=e*u,f=r*a,d=r*u,_=i*u,p=o*s,m=o*a,v=o*u;return t[0]=1-(f+_),t[1]=c+v,t[2]=h-m,t[3]=c-v,t[4]=1-(l+_),t[5]=d+p,t[6]=h+m,t[7]=d-p,t[8]=1-(l+f),t},l.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},"undefined"!=typeof t&&(t.mat3=l);{var c={};new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}c.create=function(){var t=new e(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},c.clone=function(t){var n=new e(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},c.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},c.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},c.transpose=function(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],s=n[7],a=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},c.invert=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],u=n[6],l=n[7],c=n[8],h=n[9],f=n[10],d=n[11],_=n[12],p=n[13],m=n[14],v=n[15],y=e*a-r*s,g=e*u-i*s,b=e*l-o*s,w=r*u-i*a,A=r*l-o*a,E=i*l-o*u,x=c*p-h*_,M=c*m-f*_,S=c*v-d*_,C=h*m-f*p,k=h*v-d*p,T=f*v-d*m,L=y*T-g*k+b*C+w*S-A*M+E*x;return L?(L=1/L,t[0]=(a*T-u*k+l*C)*L,t[1]=(i*k-r*T-o*C)*L,t[2]=(p*E-m*A+v*w)*L,t[3]=(f*A-h*E-d*w)*L,t[4]=(u*S-s*T-l*M)*L,t[5]=(e*T-i*S+o*M)*L,t[6]=(m*b-_*E-v*g)*L,t[7]=(c*E-f*b+d*g)*L,t[8]=(s*k-a*S+l*x)*L,t[9]=(r*S-e*k-o*x)*L,t[10]=(_*A-p*b+v*y)*L,t[11]=(h*b-c*A-d*y)*L,t[12]=(a*M-s*C-u*x)*L,t[13]=(e*C-r*M+i*x)*L,t[14]=(p*g-_*w-m*y)*L,t[15]=(c*w-h*g+f*y)*L,t):null},c.adjoint=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],u=n[6],l=n[7],c=n[8],h=n[9],f=n[10],d=n[11],_=n[12],p=n[13],m=n[14],v=n[15];return t[0]=a*(f*v-d*m)-h*(u*v-l*m)+p*(u*d-l*f),t[1]=-(r*(f*v-d*m)-h*(i*v-o*m)+p*(i*d-o*f)),t[2]=r*(u*v-l*m)-a*(i*v-o*m)+p*(i*l-o*u),t[3]=-(r*(u*d-l*f)-a*(i*d-o*f)+h*(i*l-o*u)),t[4]=-(s*(f*v-d*m)-c*(u*v-l*m)+_*(u*d-l*f)),t[5]=e*(f*v-d*m)-c*(i*v-o*m)+_*(i*d-o*f),t[6]=-(e*(u*v-l*m)-s*(i*v-o*m)+_*(i*l-o*u)),t[7]=e*(u*d-l*f)-s*(i*d-o*f)+c*(i*l-o*u),t[8]=s*(h*v-d*p)-c*(a*v-l*p)+_*(a*d-l*h),t[9]=-(e*(h*v-d*p)-c*(r*v-o*p)+_*(r*d-o*h)),t[10]=e*(a*v-l*p)-s*(r*v-o*p)+_*(r*l-o*a),t[11]=-(e*(a*d-l*h)-s*(r*d-o*h)+c*(r*l-o*a)),t[12]=-(s*(h*m-f*p)-c*(a*m-u*p)+_*(a*f-u*h)),t[13]=e*(h*m-f*p)-c*(r*m-i*p)+_*(r*f-i*h),t[14]=-(e*(a*m-u*p)-s*(r*m-i*p)+_*(r*u-i*a)),t[15]=e*(a*f-u*h)-s*(r*f-i*h)+c*(r*u-i*a),t},c.determinant=function(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],_=t[13],p=t[14],m=t[15],v=n*s-e*o,y=n*a-r*o,g=n*u-i*o,b=e*a-r*s,w=e*u-i*s,A=r*u-i*a,E=l*_-c*d,x=l*p-h*d,M=l*m-f*d,S=c*p-h*_,C=c*m-f*_,k=h*m-f*p;return v*k-y*C+g*S+b*M-w*x+A*E},c.multiply=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],d=n[10],_=n[11],p=n[12],m=n[13],v=n[14],y=n[15],g=e[0],b=e[1],w=e[2],A=e[3];return t[0]=g*r+b*a+w*h+A*p,t[1]=g*i+b*u+w*f+A*m,t[2]=g*o+b*l+w*d+A*v,t[3]=g*s+b*c+w*_+A*y,g=e[4],b=e[5],w=e[6],A=e[7],t[4]=g*r+b*a+w*h+A*p,t[5]=g*i+b*u+w*f+A*m,t[6]=g*o+b*l+w*d+A*v,t[7]=g*s+b*c+w*_+A*y,g=e[8],b=e[9],w=e[10],A=e[11],t[8]=g*r+b*a+w*h+A*p,t[9]=g*i+b*u+w*f+A*m,t[10]=g*o+b*l+w*d+A*v,t[11]=g*s+b*c+w*_+A*y,g=e[12],b=e[13],w=e[14],A=e[15],t[12]=g*r+b*a+w*h+A*p,t[13]=g*i+b*u+w*f+A*m,t[14]=g*o+b*l+w*d+A*v,t[15]=g*s+b*c+w*_+A*y,t},c.mul=c.multiply,c.translate=function(t,n,e){var r,i,o,s,a,u,l,c,h,f,d,_,p=e[0],m=e[1],v=e[2];return n===t?(t[12]=n[0]*p+n[4]*m+n[8]*v+n[12],t[13]=n[1]*p+n[5]*m+n[9]*v+n[13],t[14]=n[2]*p+n[6]*m+n[10]*v+n[14],t[15]=n[3]*p+n[7]*m+n[11]*v+n[15]):(r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],d=n[10],_=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=_,t[12]=r*p+a*m+h*v+n[12],t[13]=i*p+u*m+f*v+n[13],t[14]=o*p+l*m+d*v+n[14],t[15]=s*p+c*m+_*v+n[15]),t},c.scale=function(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},c.rotate=function(t,e,r,i){var o,s,a,u,l,c,h,f,d,_,p,m,v,y,g,b,w,A,E,x,M,S,C,k,T=i[0],L=i[1],N=i[2],q=Math.sqrt(T*T+L*L+N*N);return Math.abs(q)<n?null:(q=1/q,T*=q,L*=q,N*=q,o=Math.sin(r),s=Math.cos(r),a=1-s,u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],d=e[5],_=e[6],p=e[7],m=e[8],v=e[9],y=e[10],g=e[11],b=T*T*a+s,w=L*T*a+N*o,A=N*T*a-L*o,E=T*L*a-N*o,x=L*L*a+s,M=N*L*a+T*o,S=T*N*a+L*o,C=L*N*a-T*o,k=N*N*a+s,t[0]=u*b+f*w+m*A,t[1]=l*b+d*w+v*A,t[2]=c*b+_*w+y*A,t[3]=h*b+p*w+g*A,t[4]=u*E+f*x+m*M,t[5]=l*E+d*x+v*M,t[6]=c*E+_*x+y*M,t[7]=h*E+p*x+g*M,t[8]=u*S+f*C+m*k,t[9]=l*S+d*C+v*k,t[10]=c*S+_*C+y*k,t[11]=h*S+p*C+g*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},c.rotateX=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],s=n[5],a=n[6],u=n[7],l=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+l*r,t[5]=s*i+c*r,t[6]=a*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-s*r,t[10]=h*i-a*r,t[11]=f*i-u*r,t},c.rotateY=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],s=n[1],a=n[2],u=n[3],l=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-l*r,t[1]=s*i-c*r,t[2]=a*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=s*r+c*i,t[10]=a*r+h*i,t[11]=u*r+f*i,t},c.rotateZ=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],s=n[1],a=n[2],u=n[3],l=n[4],c=n[5],h=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+l*r,t[1]=s*i+c*r,t[2]=a*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-s*r,t[6]=h*i-a*r,t[7]=f*i-u*r,t},c.fromRotationTranslation=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=r+r,u=i+i,l=o+o,c=r*a,h=r*u,f=r*l,d=i*u,_=i*l,p=o*l,m=s*a,v=s*u,y=s*l;return t[0]=1-(d+p),t[1]=h+y,t[2]=f-v,t[3]=0,t[4]=h-y,t[5]=1-(c+p),t[6]=_+m,t[7]=0,t[8]=f+v,t[9]=_-m,t[10]=1-(c+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},c.fromQuat=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=e+e,a=r+r,u=i+i,l=e*s,c=e*a,h=e*u,f=r*a,d=r*u,_=i*u,p=o*s,m=o*a,v=o*u;return t[0]=1-(f+_),t[1]=c+v,t[2]=h-m,t[3]=0,t[4]=c-v,t[5]=1-(l+_),t[6]=d+p,t[7]=0,t[8]=h+m,t[9]=d-p,t[10]=1-(l+f),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},c.frustum=function(t,n,e,r,i,o,s){var a=1/(e-n),u=1/(i-r),l=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(e+n)*a,t[9]=(i+r)*u,t[10]=(s+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*l,t[15]=0,t},c.perspective=function(t,n,e,r,i){var o=1/Math.tan(n/2),s=1/(r-i);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*s,t[15]=0,t},c.ortho=function(t,n,e,r,i,o,s){var a=1/(n-e),u=1/(r-i),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(n+e)*a,t[13]=(i+r)*u,t[14]=(s+o)*l,t[15]=1,t},c.lookAt=function(t,e,r,i){var o,s,a,u,l,h,f,d,_,p,m=e[0],v=e[1],y=e[2],g=i[0],b=i[1],w=i[2],A=r[0],E=r[1],x=r[2];return Math.abs(m-A)<n&&Math.abs(v-E)<n&&Math.abs(y-x)<n?c.identity(t):(f=m-A,d=v-E,_=y-x,p=1/Math.sqrt(f*f+d*d+_*_),f*=p,d*=p,_*=p,o=b*_-w*d,s=w*f-g*_,a=g*d-b*f,p=Math.sqrt(o*o+s*s+a*a),p?(p=1/p,o*=p,s*=p,a*=p):(o=0,s=0,a=0),u=d*a-_*s,l=_*o-f*a,h=f*s-d*o,p=Math.sqrt(u*u+l*l+h*h),p?(p=1/p,u*=p,l*=p,h*=p):(u=0,l=0,h=0),t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=s,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=h,t[10]=_,t[11]=0,t[12]=-(o*m+s*v+a*y),t[13]=-(u*m+l*v+h*y),t[14]=-(f*m+d*v+_*y),t[15]=1,t)},c.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},"undefined"!=typeof t&&(t.mat4=c);{var h={};new Float32Array([0,0,0,1])}h.create=function(){var t=new e(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.clone=s.clone,h.fromValues=s.fromValues,h.copy=s.copy,h.set=s.set,h.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.setAxisAngle=function(t,n,e){e=.5*e;var r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t},h.add=s.add,h.multiply=function(t,n,e){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],u=e[1],l=e[2],c=e[3];return t[0]=r*c+s*a+i*l-o*u,t[1]=i*c+s*u+o*a-r*l,t[2]=o*c+s*l+r*u-i*a,t[3]=s*c-r*a-i*u-o*l,t},h.mul=h.multiply,h.scale=s.scale,h.rotateX=function(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],s=n[3],a=Math.sin(e),u=Math.cos(e);return t[0]=r*u+s*a,t[1]=i*u+o*a,t[2]=o*u-i*a,t[3]=s*u-r*a,t},h.rotateY=function(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],s=n[3],a=Math.sin(e),u=Math.cos(e);return t[0]=r*u-o*a,t[1]=i*u+s*a,t[2]=o*u+r*a,t[3]=s*u-i*a,t},h.rotateZ=function(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],s=n[3],a=Math.sin(e),u=Math.cos(e);return t[0]=r*u+i*a,t[1]=i*u-r*a,t[2]=o*u+s*a,t[3]=s*u-o*a,t},h.calculateW=function(t,n){var e=n[0],r=n[1],i=n[2];return t[0]=e,t[1]=r,t[2]=i,t[3]=-Math.sqrt(Math.abs(1-e*e-r*r-i*i)),t},h.dot=s.dot,h.lerp=s.lerp,h.slerp=function(t,n,e,r){var i,o,s,a,u=n[0],l=n[1],c=n[2],h=n[3],f=e[0],d=e[1],_=e[2],p=e[3],m=u*f+l*d+c*_+h*p;return Math.abs(m)>=1?(t!==n&&(t[0]=u,t[1]=l,t[2]=c,t[3]=h),t):(i=Math.acos(m),o=Math.sqrt(1-m*m),Math.abs(o)<.001?(t[0]=.5*u+.5*f,t[1]=.5*l+.5*d,t[2]=.5*c+.5*_,t[3]=.5*h+.5*p,t):(s=Math.sin((1-r)*i)/o,a=Math.sin(r*i)/o,t[0]=u*s+f*a,t[1]=l*s+d*a,t[2]=c*s+_*a,t[3]=h*s+p*a,t))},h.invert=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],s=e*e+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-e*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t},h.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},h.length=s.length,h.len=h.length,h.squaredLength=s.squaredLength,h.sqrLen=h.squaredLength,h.normalize=s.normalize,h.fromMat3=function(){var t=[1,2,0];return function(n,e){var r,i=e[0]+e[4]+e[8];if(i>0)r=Math.sqrt(i+1),n[3]=.5*r,r=.5/r,n[0]=(e[7]-e[5])*r,n[1]=(e[2]-e[6])*r,n[2]=(e[3]-e[1])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var s=t[o],a=t[s];r=Math.sqrt(e[3*o+o]-e[3*s+s]-e[3*a+a]+1),n[o]=.5*r,r=.5/r,n[3]=(e[3*a+s]-e[3*s+a])*r,n[s]=(e[3*s+o]+e[3*o+s])*r,n[a]=(e[3*a+o]+e[3*o+a])*r}return n}}(),h.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.quat=h)}(t.exports)}()},function(t){"use strict";function n(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=n.prototype.handle.bind(this)}function e(t,n){return t.toLowerCase()===n.tagName.toLowerCase()}function r(t,n){return this.rootElement===window?n===document:this.rootElement===n}function i(t,n){return t===n.id}t.exports=n,n.prototype.root=function(t){var n,e=this.listenerMap;if(this.rootElement){for(n in e[1])e[1].hasOwnProperty(n)&&this.rootElement.removeEventListener(n,this.handle,!0);for(n in e[0])e[0].hasOwnProperty(n)&&this.rootElement.removeEventListener(n,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(n in e[1])e[1].hasOwnProperty(n)&&this.rootElement.addEventListener(n,this.handle,!0);for(n in e[0])e[0].hasOwnProperty(n)&&this.rootElement.addEventListener(n,this.handle,!1);return this},n.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},n.prototype.on=function(t,n,s,a){var u,l,c,h;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof n&&(a=s,s=n,n=null),void 0===a&&(a=this.captureForType(t)),"function"!=typeof s)throw new TypeError("Handler must be a type of Function");return u=this.rootElement,l=this.listenerMap[a?1:0],l[t]||(u&&u.addEventListener(t,this.handle,a),l[t]=[]),n?/^[a-z]+$/i.test(n)?(h=n,c=e):/^#[a-z0-9\-_]+$/i.test(n)?(h=n.slice(1),c=i):(h=n,c=o):(h=null,c=r.bind(this)),l[t].push({selector:n,handler:s,matcher:c,matcherParam:h}),this},n.prototype.off=function(t,n,e,r){var i,o,s,a,u;if("function"==typeof n&&(r=e,e=n,n=null),void 0===r)return this.off(t,n,e,!0),this.off(t,n,e,!1),this;if(s=this.listenerMap[r?1:0],!t){for(u in s)s.hasOwnProperty(u)&&this.off(u,n,e);return this}if(a=s[t],!a||!a.length)return this;for(i=a.length-1;i>=0;i--)o=a[i],n&&n!==o.selector||e&&e!==o.handler||a.splice(i,1);return a.length||(delete s[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},n.prototype.handle=function(t){var n,e,r,i,o,s,a,u=t.type,l=[],c="ftLabsDelegateIgnore";if(t[c]!==!0){switch(a=t.target,3===a.nodeType&&(a=a.parentNode),r=this.rootElement,i=t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:l=this.listenerMap[1][u];break;case 2:this.listenerMap[0]&&this.listenerMap[0][u]&&(l=l.concat(this.listenerMap[0][u])),this.listenerMap[1]&&this.listenerMap[1][u]&&(l=l.concat(this.listenerMap[1][u]));break;case 3:l=this.listenerMap[0][u]}for(e=l.length;a&&e;){for(n=0;e>n&&(o=l[n],o);n++)if(o.matcher.call(a,o.matcherParam,a)&&(s=this.fire(t,a,o)),s===!1)return t[c]=!0,void t.preventDefault();if(a===r)break;e=l.length,a=a.parentElement}}},n.prototype.fire=function(t,n,e){return e.handler.call(n,t,n)};var o=function(t){if(t){var n=t.prototype;return n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector}}(Element);n.prototype.destroy=function(){this.off(),this.root()}}]);